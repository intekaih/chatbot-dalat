<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-title>Địa điểm yêu thích</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="addFavorite()" class="add-btn">
        <ion-icon slot="icon-only" name="add-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  @if (favorites.length === 0) {
  <div class="empty-state">
    <div class="empty-icon">
      <ion-icon name="heart-outline"></ion-icon>
    </div>
    <h3>Chưa có địa điểm nào</h3>
    <p>Lưu lại những địa điểm yêu thích trong hành trình khám phá Đà Lạt của bạn</p>
    <ion-button (click)="addFavorite()">
      <ion-icon slot="start" name="add-outline"></ion-icon>
      Thêm địa điểm
    </ion-button>
  </div>
  } @else {
  <div class="favorites-container">
    @for (fav of favorites; track fav.id) {
    <ion-item-sliding>
      <div class="favorite-card">
        <div class="fav-icon">
          <ion-icon name="location"></ion-icon>
        </div>
        <div class="fav-content">
          <h3>{{ fav.name }}</h3>
          @if (fav.address) {
          <p class="address">
            <ion-icon name="pin-outline"></ion-icon>
            {{ fav.address }}
          </p>
          }
          @if (fav.description) {
          <p class="description">{{ fav.description }}</p>
          }
          <p class="date">Đã lưu: {{ formatDate(fav.createdAt) }}</p>
        </div>
        <button class="delete-btn" (click)="removeFavorite(fav)">
          <ion-icon name="trash-outline"></ion-icon>
        </button>
      </div>
    </ion-item-sliding>
    }
  </div>
  }
</ion-content>
